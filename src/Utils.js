// Generated by CoffeeScript 2.3.2
(function() {
  /*
   * 工具类
   */
  var Utils, fs, getOPropNms;

  fs = require('fs');

  Utils = {};

  Utils.getOPropNms = getOPropNms = Object.getOwnPropertyNames;

  Utils.rmdir = function(path, callback) {
    var files;
    files = [];
    if (fs.existsSync(path)) {
      files = fs.readdirSync(path);
      files.forEach(function(file, index) {
        var curPath;
        curPath = path + "/" + file;
        if (!fs.existsSync(curPath)) {
          return;
        }
        if (fs.statSync(curPath).isDirectory()) {
          return Utils.rmdir(curPath, function() {});
        } else {
          return fs.unlinkSync(curPath);
        }
      });
      return fs.rmdir(path, callback);
    }
  };

  Utils.uuid = function(len, radix) {
    var chars, i, j, k, r, ref, uuid;
    chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
    uuid = [];
    radix = radix || chars.length;
    if (len) {
      for (i = j = 0, ref = len; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
        uuid[i] = chars[0 | Math.random() * radix];
      }
    } else {
      uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
      uuid[14] = '4';
      for (i = k = 0; k < 36; i = ++k) {
        if (!uuid[i]) {
          r = 0 | Math.random() * 16;
          uuid[i] = chars[i === 19 ? (r & 0x3) | 0x8 : r];
        }
      }
    }
    return uuid.join('');
  };

  module.exports = Utils;

}).call(this);
